const ContributorsJS={requestAPI:(a,s,l)=>{let i=5;!function o(){return new Promise((r,t)=>{let e=0,n=setTimeout(()=>{0===e&&(e=2,n=null,t("请求超时"),0==i&&l())},5e3);fetch(a).then(function(t){if(2!==e&&(clearTimeout(n),r(t),n=null,e=1),t.ok)return t.json();throw new Error("Network response was not ok.")}).then(function(t){i=0,s(t)}).catch(function(t){0<i?(--i,setTimeout(()=>{o()},5e3)):l()})})}()},layout:o=>{const r=o.el;ContributorsJS.requestAPI(o.api,function(t){r.querySelector(".loading-wrap").remove();var n="";(t||[]).forEach((t,r)=>{var e='<div class="user-card">';e+='<a class="card-link" target="_blank" rel="external noopener noreferrer"',e+=' href="'+t.html_url+'">',e+='<img alt="'+t.login+'" src="'+(t.avatar_url||o.avatar)+'" onerror="javascript:this.onerror=null;this.src=\''+o.avatar+"';\">",e+='<div class="name"><span>'+t.login+"</span></div>",e+="</a>",n+=e+="</div>"}),r.querySelector(".group-body").innerHTML=n},function(){try{r.querySelector(".loading-wrap svg").remove(),r.querySelector(".loading-wrap p").innerText("加载失败，请稍后重试。")}catch(t){}})},start:()=>{for(var t=document.getElementsByClassName("contributorsjs-wrap"),r=0;r<t.length;r++){const o=t[r];var e,n=o.getAttribute("api");null!=n&&((e=new Object).el=o,e.api=n,e.class=o.getAttribute("class"),e.avatar="https://cdn.jsdelivr.net/gh/cdn-x/placeholder@1.0.1/avatar/round/3442075.svg",ContributorsJS.layout(e))}}};ContributorsJS.start(),document.addEventListener("pjax:complete",function(){ContributorsJS.start()});